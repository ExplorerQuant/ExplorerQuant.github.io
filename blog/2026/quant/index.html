<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Cool Problem - 1 | Shreenaga Tejas Chikoti </title> <meta name="author" content="Shreenaga Tejas Chikoti"> <meta name="description" content="An Interview Problem"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://explorerquant.github.io/blog/2026/quant/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Shreenaga</span> Tejas Chikoti </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/books/">bookshelf</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Cool Problem - 1</h1> <p class="post-meta"> Created on January 08, 2026 </p> <p class="post-tags"> <a href="/blog/2026"> <i class="fa-solid fa-calendar fa-sm"></i> 2026 </a>   ·   <a href="/blog/tag/math"> <i class="fa-solid fa-hashtag fa-sm"></i> math,</a>   <a href="/blog/tag/problem-solving"> <i class="fa-solid fa-hashtag fa-sm"></i> problem-solving</a>   ·   <a href="/blog/category/interview-problems"> <i class="fa-solid fa-tag fa-sm"></i> interview-problems</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>During the summer, I came across a specific flavor of problem that I could not solve initially, but with some help, I eventually became comfortable with it. <strong>Fun fact:</strong> this question was also asked in a final-round interview at <strong>Squarepoint</strong>.</p> <p>What made this problem particularly interesting to me was that it <em>looked</em> simple on the surface, but quickly forced you to think carefully about stopping times, conditioning, and how to structure expectations. At first glance, the most natural instinct is to brute force it—and that’s exactly where I started.</p> <hr> <h2 id="problem-statement">Problem Statement</h2> <p>Let $X_1, X_2, X_3, \cdots$ be i.i.d. $U[0,1]$ random variables and let</p> <p>$N = min{n:X_1 + X_2 + \cdots + X_n &gt; x}, \quad x \in [0,1]$</p> <p>Find $\mathbb{E}(N)$.</p> <p>In words, we keep drawing uniform random variables until their cumulative sum exceeds $x$, and we want to know how many draws this takes <em>on average</em>.</p> <hr> <h2 id="first-approach-brute-force-via-tail-probabilities">First Approach: Brute Force via Tail Probabilities</h2> <p>Since $N$ is a discrete random variable taking positive integer values, a natural starting point is to express its expectation in terms of tail probabilities:</p> <p>$\mathbb{E}[N] = \sum_{n=1}^{\infty} \mathbb{P}(N \ge n).$</p> <p>To make progress, we need to understand what the event $N \ge n$ actually means. Observing the definition of $N$, we see that</p> <p>$N \ge n \iff \sum_{i=1}^{n-1} X_i \le x.$</p> <p>So the problem reduces to computing probabilities involving partial sums of uniform random variables.</p> <p>Define the event</p> <p>$A_n = { \sum_{i=1}^{n} X_i \le x }.$</p> <p>Our goal is to compute $\mathbb{P}(A_n)$ in a form that is easy to work with.</p> <hr> <h3 id="recursive-formulation">Recursive Formulation</h3> <p>We can write this probability as a volume of a region in $\mathbb{R}^n$:</p> <p>$\mathbb{P}(A_n) = \int \cdots \int_{A_n} 1dx_1 \cdots dx_n.$</p> <p>Let $f_n(x) = \mathbb{P}(A_n)$. Rather than computing this integral directly for each $n$, we look for a recursive structure.</p> <p>Conditioning on the last variable $X_n = x_n$, the event $A_n$ requires</p> <p>$\sum_{i=1}^{n-1} X_i \le x - x_n.$</p> <p>This gives the recursion</p> <p>$f_n(x) = \int_{0}^{x} f_{n-1}(x - x_n)dx_n.$</p> <p>To anchor the recursion, note that since $X_1 \sim U[0,1]$,</p> <p>$f_1(x) = \mathbb{P}(X_1 \le x) = x.$</p> <p>Using this,</p> <p>$f_2(x) = \int_{0}^{x} (x - x_2)dx_2 = \frac{x^2}{2}.$</p> <p>At this point, a clear pattern emerges. By induction,</p> <p>$f_n(x) = \frac{x^n}{n!}.$</p> <hr> <h3 id="computing-mathbben">Computing $\mathbb{E}(N)$</h3> <p>We can now return to the expression we started with. Using the fact that $\mathbb{P}(N \ge 1) = 1$,</p> <p>$\mathbb{E}[N] = 1 + \sum_{n=1}^{\infty} f_n(x).$</p> <p>Substituting the closed-form expression for $f_n(x)$,</p> <p>$\mathbb{E}[N] = 1 + \sum_{n=1}^{\infty} \frac{x^n}{n!}.$</p> <p>This is nothing but the Taylor expansion of $\mathrm{e}^x$, and hence</p> <p>$\mathbb{E}(N) = \mathrm{e}^x.$</p> <p>While this approach works nicely, it does rely on explicitly understanding the geometry of these probability regions. Fortunately, there is a cleaner way.</p> <hr> <h2 id="second-approach-conditioning-on-the-first-variable">Second Approach: Conditioning on the First Variable</h2> <p>Instead of conditioning on the <em>last</em> variable, we now condition on the <em>first</em>. This perspective turns out to be much more powerful.</p> <p>Using the law of total expectation,</p> <p>$\mathbb{E}[N] = \mathbb{E}[\mathbb{E}[N \mid X_1]].$</p> <p>The intuition is simple: if the very first draw already exceeds $x$, then the process stops immediately.</p> <p>Define</p> <p>$f(t) = \mathbb{E}(N \mid X_1 = t), \quad g(x) = \mathbb{E}(N).$</p> <p>Since $X_1 \sim U[0,1]$,</p> <p>$g(x) = \int_{0}^{1} f(t)dt.$</p> <hr> <h3 id="case-analysis">Case Analysis</h3> <p>There are two cases to consider:</p> <ul> <li>If $t \ge x$, then $N = 1$.</li> <li>If $t &lt; x$, then after drawing $t$, we need to exceed $x - t$ using fresh uniform variables.</li> </ul> <p>In the second case,</p> <p>$N = min{n : X_2 + \cdots + X_n &gt; x - t} + 1 = g(x - t) + 1.$</p> <p>Putting everything together,</p> <p>$g(x) = \int_{0}^{x} (1 + g(x - t))dt + \int_{x}^{1} 1dt = 1 + \int_{0}^{x} g(t)dt.$</p> <p>Differentiating both sides gives</p> <p>$g’(x) = g(x).$</p> <p>With the boundary condition $g(0) = 1$, we again obtain</p> <p>$g(x) = \mathrm{e}^x.$</p> <p>This method avoids multidimensional integrals entirely and already hints at how to extend the result.</p> <hr> <h2 id="extension-to-x-in-12">Extension to $x \in [1,2]$</h2> <p>Now suppose $x \in [1,2]$. The same conditioning idea still applies, but the structure of the recursion changes slightly because the remaining threshold $x - t$ can now lie either in $[0,1]$ or in $[1,2]$.</p> <p>Define</p> <p>$l(t) = \mathbb{E}(N \mid X_1 = t), \quad h(x) = \mathbb{E}(N).$</p> <p>As before,</p> <p>$h(x) = \int_{0}^{1} l(t)dt.$</p> <p>We analyze $l(t)$ by splitting into cases depending on the value of $x - t$.</p> <hr> <h3 id="case-analysis-1">Case Analysis</h3> <ul> <li> <p><strong>If $x - t \in (1,2)$</strong>, i.e. $t \in (0, x-1)$, then after observing $X_1 = t$, the remaining problem is still in the regime $[1,2]$. Hence,</p> <p>$N = h(x - t) + 1.$</p> </li> <li> <p><strong>If $x - t \in (0,1)$</strong>, i.e. $t \in (x-1, 1)$, then the remaining problem falls back into the original case. From the previous section,</p> <p>$N = g(x - t) + 1 = \mathrm{e}^{x - t} + 1.$</p> </li> </ul> <hr> <h3 id="integral-equation-for-hx">Integral Equation for $h(x)$</h3> <p>Combining both cases, we obtain</p> <p>$h(x) = \int_{0}^{x-1} (1 + h(x - t))dt</p> <ul> <li>\int_{x-1}^{1} (1 + \mathrm{e}^{x - t})dt.$</li> </ul> <p>We now simplify each term.</p> <p>First,</p> <p>$\int_{0}^{x-1} 1dt = x - 1,$</p> <p>and by a change of variables,</p> <p>$\int_{0}^{x-1} h(x - t)dt = \int_{1}^{x} h(u)du.$</p> <p>Next,</p> <p>$\int_{x-1}^{1} 1dt = 2 - x,$</p> <p>and</p> <p>$\int_{x-1}^{1} \mathrm{e}^{x - t}dt = \mathrm{e}^x \int_{x-1}^{1} \mathrm{e}^{-t}dt = \mathrm{e} - \mathrm{e}^{x-1}.$</p> <p>Putting everything together,</p> <p>$h(x) = 1 + \int_{1}^{x} h(t)dt + \mathrm{e} - \mathrm{e}^{x-1}.$</p> <hr> <h3 id="solving-the-ode">Solving the ODE</h3> <p>Differentiating both sides with respect to $x$ gives</p> <p>$h’(x) = h(x) - \mathrm{e}^{x-1}.$</p> <p>This is a first-order linear ODE. Using the boundary condition $h(1) = g(1) = \mathrm{e}$, we solve to obtain</p> <p>$h(x) = \mathrm{e}^{x}\left(1 + \frac{1}{\mathrm{e}} - \frac{x}{\mathrm{e}}\right).$</p> <p>In particular, at $x = 2,h(2) = \mathrm{e}^2 - \mathrm{e}.$</p> <h2 id="expected-overshoot-sum">Expected Overshoot Sum</h2> <p>We now switch gears and look at a closely related quantity.</p> <p>Define</p> <p>$S_N = X_1 + X_2 + \cdots + X_N,$</p> <p>the sum at the stopping time. Our goal is to compute $\mathbb{E}(S_N)$.</p> <p>Let</p> <p>$k(x) = \mathbb{E}(S_N), \quad q(t) = \mathbb{E}(S_N \mid X_1 = t).$</p> <p>As before,</p> <p>$k(x) = \int_{0}^{1} q(t)dt.$</p> <hr> <h3 id="case-analysis-2">Case Analysis</h3> <ul> <li>If $t &gt; x$, then the process stops immediately and $S_N = t$.</li> <li>If $t \le x$, then $S_N = t + k(x - t)$.</li> </ul> <p>Thus,</p> <p>$k(x) = \int_{0}^{x} (t + k(x - t))dt + \int_{x}^{1} tdt = \frac{1}{2} + \int_{0}^{x} k(t)dt.$</p> <p>Differentiating,</p> <p>$k’(x) = k(x).$</p> <p>Using $k(0) = 0.5$, we get</p> <p>$k(x) = \frac{\mathrm{e}^x}{2}.$</p> <hr> <h2 id="final-insight">Final Insight</h2> <p>Notice something elegant:</p> <p>$\mathbb{E}(S_N) = \frac{1}{2}\mathrm{e}^x = \mathbb{E}(N)\mathbb{E}(X_1).$</p> <p>This is exactly what Wald’s lemma predicts, since $N$ is a stopping time.</p> <hr> <h3 id="closing-thought">Closing Thought</h3> <p>The key lesson here is that conditioning—when done thoughtfully—can turn a high-dimensional integration problem into a one-line differential equation.</p> <p>The next time you see a chain of uniform random variables, try conditioning early. It will almost always save you from visualizing multidimensional simplices.</p> <p>Pretty cool, right?</p> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2026 Shreenaga Tejas Chikoti. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?c15de51d4bb57887caa2c21988d97279"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>